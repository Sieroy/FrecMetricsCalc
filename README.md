# FrecMetricsCalc
简单控制系统的频域指标计算器。本科自动化算系统参数时可以提供较大的帮助。

## 简介

在做作业写系统校正时，愈发感觉到受自动化荼毒之深(bushi)，于是为了简化计算，写了这么个玩意儿。仅供写作业用，不要扔生产环境里哈哈、、

我会时不时根据写作业时遇到的情况更新程序，大家注意看一下类的文档，使用新的用法。

## 环境要求

只需要Python 3.6或更高，其他都不需要~~

## 用法

这个程序最好在Python命令行里用，毕竟还得算其他值嘛。（Python是最爽的计算器！）

只需在`fuxk.py`目录内运行一个Python终端，然后

```
>>> from fuxk import *
```

就能用辣！

来个实例：（创建系统对象，输出指标，二级校正，输出二级校正后的指标）

```
>>> from fuxk import *
算TM的系统校正！
>>> g0 = G(100,[],[0.12, 0.02])
>>> gc1 = g0.correct4(10)
返回了一个校正系统嗷，你可以将它与原系统相乘~~
校正过程参数：beta=8.333333333333332, tau=0.7
返回的系统有点高级哦，没法自动算指标嗷:(
>>> gg = g0*gc1
>>> gg.showinfo()

            100*(0.7*s + 1)
---------------------------------------
s*(5.833*s + 1)(0.12*s + 1)(0.02*s + 1)

开环指标精确值们：
        Wc      = 8.436 rad/s
        Wg      = 18.531 rad/s
        Gamma   = 26.625208098096493°
        Kg      = 4.003793960440439
开环指标对数简化运算得到的值：
        Wc      = 10.0 rad/s
        Wg      = 18.531 rad/s
        Gamma   = 21.34765342731319°
        20lg Kg = 10.715954242294245 dB
闭环频域近似指标：
        Wb      = 0.618 rad/s
        Mr      = 274.7056522005637 %
闭环时域指标（经验公式、近似指标）：
        ts      = 3.848796893364727 s
        相角裕度超出范围，超调量无法用经验公式计算

>>> gg.showlogexp()
20lg A(w) =
 20( lg 100 -lg w ) , 0 < w < 0.171
 20( lg 100 -lg w -lg 5.833w ) , 0.171 < w < 1.429
 20( lg 100 -lg w -lg 5.833w +lg 0.7w ) , 1.429 < w < 8.333
 20( lg 100 -lg w -lg 5.833w +lg 0.7w -lg 0.12w ) , 8.333 < w < 50.0
 20( lg 100 -lg w -lg 5.833w +lg 0.7w -lg 0.12w -lg 0.02w ) , w > 50.0
>>> gc2=gg.correct1(30)
返回了一个校正系统嗷，你可以将它与原系统相乘~~
校正过程参数：alpha=3.0, T=0.04386826754727041
返回的系统有点高级哦，没法自动算指标嗷:(
>>> ggg=gg*gc2
>>> ggg.showinfo()

            100*(0.7*s + 1)(0.132*s + 1)
----------------------------------------------------
s*(5.833*s + 1)(0.12*s + 1)(0.044*s + 1)(0.02*s + 1)

开环指标精确值们：
        Wc      = 11.252 rad/s
        Wg      = 33.15 rad/s
        Gamma   = 47.17614816751541°
        Kg      = 5.3558994288534825
开环指标对数简化运算得到的值：
        Wc      = 13.161 rad/s
        Wg      = 33.15 rad/s
        Gamma   = 42.14574271781521°
        20lg Kg = 11.276916215238424 dB
闭环频域近似指标：
        Wb      = 0.611 rad/s
        Mr      = 149.02712784651098 %
闭环时域指标（经验公式、近似指标）：
        ts      = 0.7963957031598078 s
        sigma_p = 35.610851138604396 %

>>> ggg.showlogexp()
20lg A(w) =
 20( lg 100 -lg w ) , 0 < w < 0.171
 20( lg 100 -lg w -lg 5.833w ) , 0.171 < w < 1.429
 20( lg 100 -lg w -lg 5.833w +lg 0.7w ) , 1.429 < w < 7.599
 20( lg 100 -lg w -lg 5.833w +lg 0.7w +lg 0.132w ) , 7.599 < w < 8.333
 20( lg 100 -lg w -lg 5.833w +lg 0.7w +lg 0.132w -lg 0.12w ) , 8.333 < w < 22.796
 20( lg 100 -lg w -lg 5.833w +lg 0.7w +lg 0.132w -lg 0.12w -lg 0.044w ) , 22.796 < w < 50.0
 20( lg 100 -lg w -lg 5.833w +lg 0.7w +lg 0.132w -lg 0.12w -lg 0.044w -lg 0.02w ) , w > 50.0
>>> gc1*gc2
返回的系统有点高级哦，没法自动算指标嗷:(
 (0.7*s + 1)(0.132*s + 1)
--------------------------
(5.833*s + 1)(0.044*s + 1)
>>>
```

更详细的可以看注释，或者`print(G.__doc__)`看文档。

嫌输出太吵闹的话，可以`shutup = True`让程序闭嘴。

由于精度问题，所以注意验算！此外二分法解方程时默认函数单调，如果系统比较复杂，推荐手算，否则程序有可能卡死。
